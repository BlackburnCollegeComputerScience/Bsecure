\section{Design and Implementation}
This is a placeholder for an introductory paragraph to our design. Perhaps include a storyboard or something similar to illustrate the basic flow of the application
from the point of view of a user.

\subsection{Key Exchange}
This is a placeholder for a short paragraph or two that gives an overview of our Key Exchange section.

\subsubsection{Bluetooth Key Generation}
Explain Bluetooth sockets

Explain Bluetooth Client/Server delegation

Explain Diffie-Hellman generation using Java provided classes and objects

\subsubsection{Key Specifics}
In our source code when we use the phrase ``secret key'' we are referring to the shared secret number generated by
the Diffie-Hellman process. This is not to be confused with public-key encryption, as these keys are used symmetrically.

The keys are used to encrypt and decrypt messages using the AES-256 cipher in CBC

Explain how the use of the word ``key'' means the secret number generated from Diffie-Hellman Key Exchange, not public key encryption

AES-256 Cipher in CBC mode (With a static IV currently, IV list is planned feature)

Encoded to Base64 String for storage and handling purposes (Byte arrays can't be saved in SQLite directly, Strings are easier to move around activities (The functionality for this was already built-into Android SDK))

\subsection{Information Storage and Control}
This is a placeholder for a short paragraph or two that provides an overview of our Information Storage and Control systems.

\subsubsection{BSecure Databases}
Explain the sequence number idea (Consumer/Producer control scheme for storage)

Explain key expiration (Each time key is ``used, a value is decremented)

Explain how we use the Android Contact\_ID (The primary key of the Android contact DB)

We stored all our important values for maintaining each BSecure associated contact
into a database. The values stored in this database table are used to decide what key to use for that
contact.

Refer to Table \ref{table:contacttable} for the row layout of our SQL database.

\begin{table*}
\centering
\caption{Contact Table Design}
\label{table:contacttable}
\begin{tabular}{|c|c|c|c|c|c|} \hline
Contact\_ID&CURRENT\_SEQUENCE\_NUM&MAX\_SEQUENCE\_NUM&TOTAL\_KEYS&USES\_LEFT&USES\_MAX\\ \hline\end{tabular}
\end{table*}

\subsubsection{User Settings}
Elaborate on settings available to the user

Option to force a current key for a contact to expire

Option to force all keys with a contact to expire

Option to force all keys to expire with all contacts

If the user lacks keys with a contact they can still send unencrypted messages

User chooses a maximum and minimum number of times a key is to be used. During Bluetooth exchange
these values are sent to the other device and a decision is made on which mutual value to use for the maximum key use setting.

\subsection{Use of Text Message Headers}
This is a placeholder for an introductory paragraph on using headers in our text messages.

\subsubsection{BSecure Message Header}
Explain the use of a header in the text message to indicate that the message is from a BSecure application

We appended a header to the beginning of encrypted text messages to flag to the receiving application that
the incomming message is a BSecure encrypted message.

\subsubsection{Expire Current Key Header}
Explain the use of a header to notify that the contact has expired their key early (So keys remain synchronized across both devices).

\subsubsection{Expire All Keys Header}
Explain the use of a header to notify that the contact has expired ALL keys early.


